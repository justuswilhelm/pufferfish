#!/bin/fish
argparse 'p/parent=' -- $argv
or return

set origin origin

if set -q _flag_parent
    set parent "$_flag_parent"
else
    set parent main
end
echo "Branching off $parent"
exit 0

set user justus

set date (date -I)

if test -n "$argv[1]"
    set branchname "$argv[1]"
else if read -P "Enter new branch name: " branchname
    # read branch name from prompt
else
    echo "Must enter branch name"
    exit 1
end

git fetch "$origin"
git checkout -b "$user/$date-$branchname" "$origin/$parent"
